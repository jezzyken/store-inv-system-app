"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[808],{4808:function(t,e,s){s.r(e),s.d(e,{default:function(){return ft}});var i=s(9375),r=s(4728),n=s(569),a=s(428),o=s(3381),l=s(5471),c=l.Ay.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),h=s(5803),d=s(6988),u=s(4152),m=(0,h.A)(i.A,a.A,c).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r.A,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(n.A,{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(n.A,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...i.A.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t[`v-alert--border-${this.border}`]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||o.A.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,d.q4)("outline","outlined",this)},methods:{genWrapper(){const t=[(0,u.$c)(this,"prepend")||this.__cachedIcon,this.genContent(),this.__cachedBorder,(0,u.$c)(this,"append"),this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},(0,u.$c)(this))},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}}),p=s(7678),v=s(4112),f=s(3740),g=s(3698),y=s(2938),b=s(3180),w=s(5961),C=s(48),x=s(5054),A=s(5168),S=s(2699);function _(t){const e=.501,s=Math.abs(t);return Math.sign(t)*(s/((1/e-2)*(1-s)+1))}function $(t,e,s,i){const r=t.clientWidth,n=s?e.content-t.offsetLeft-r:t.offsetLeft;s&&(i=-i);const a=e.wrapper+i,o=r+n,l=.4*r;return n<=i?i=Math.max(n-l,0):a<=o&&(i=Math.min(i-(a-o-l),e.content-e.wrapper)),s?-i:i}function I(t,e,s){const{offsetLeft:i,clientWidth:r}=t;if(s){const t=e.content-i-r/2-e.wrapper/2;return-Math.min(e.content-e.wrapper,Math.max(0,t))}{const t=i+r/2-e.wrapper/2;return Math.min(e.content-e.wrapper,Math.max(0,t))}}const k=(0,h.A)(C.C,x.A).extend({name:"base-slide-group",directives:{Resize:A.A,Touch:S.A},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:t=>"boolean"===typeof t||["always","never","desktop","mobile"].includes(t)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...C.C.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;case"never":return!1;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:t,wrapper:e}=this.widths;return t>Math.abs(this.scrollOffset)+e},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(t){this.$vuetify.rtl&&(t=-t);let e=t<=0?_(-t):t>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+_(this.widths.content-this.widths.wrapper-t):-t;this.$vuetify.rtl&&(e=-e),this.$refs.content.style.transform=`translateX(${e}px)`}},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),t.observe(this.$refs.content),this.$on("hook:destroyed",(()=>{t.disconnect()}))}else{let t=0;this.$on("hook:beforeUpdate",(()=>{var e;t=((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length})),this.$on("hook:updated",(()=>{var e;t!==((null===(e=this.$refs.content)||void 0===e?void 0:e.children)||[]).length&&this.setWidths()}))}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(t){if(this.isOverflowing)for(const e of(0,u.K9)(t))for(const t of this.items)if(t.$el===e)return void(this.scrollOffset=$(t.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const t=this.$scopedSlots.next?this.$scopedSlots.next({}):(0,u.$c)(this,"next")||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},(0,u.$c)(this))},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(t){let e=t;this.$vuetify.rtl&&"prev"===t?e="next":this.$vuetify.rtl&&"next"===t&&(e="prev");const s=`${t[0].toUpperCase()}${t.slice(1)}`,i=this[`has${s}`];return this.showArrows||i?this.$createElement(n.A,{props:{disabled:!i}},this[`${e}Icon`]):null},genPrev(){const t=this.$scopedSlots.prev?this.$scopedSlots.prev({}):(0,u.$c)(this,"prev")||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[t])},genTransition(t){return this.$createElement(w.mM,[this.genIcon(t)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:t=>this.overflowCheck(t,this.onTouchStart),move:t=>this.overflowCheck(t,this.onTouchMove),end:t=>this.overflowCheck(t,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(t,e,s,i){const r=s?-1:1,n=r*i+("prev"===t?-1:1)*e.wrapper;return r*Math.max(Math.min(n,e.content-e.wrapper),0)},onAffixClick(t){this.$emit(`click:${t}`),this.scrollTo(t)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(t){const{content:e}=this.$refs;this.startX=this.scrollOffset+t.touchstartX,e.style.setProperty("transition","none"),e.style.setProperty("willChange","transform")},onTouchMove(t){if(this.canTouch){if(!this.isSwiping){const e=t.touchmoveX-t.touchstartX,s=t.touchmoveY-t.touchstartY;this.isSwipingHorizontal=Math.abs(e)>Math.abs(s),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-t.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:t,wrapper:e}=this.$refs,s=t.clientWidth-e.clientWidth;t.style.setProperty("transition",null),t.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-s&&(this.scrollOffset=-s):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=s&&(this.scrollOffset=s),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(t,e){t.stopPropagation(),this.isOverflowing&&e(t)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const t=this.items[this.items.length-1].$el.getBoundingClientRect(),e=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&e.right<t.right||!this.$vuetify.rtl&&e.left>t.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=I(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=$(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(t){this.scrollOffset=this.calculateNewOffset(t,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame((()=>{if(this._isDestroyed)return;const{content:t,wrapper:e}=this.$refs;this.widths={content:t?t.clientWidth:0,wrapper:e?e.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()}))}},render(t){return t("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});k.extend({name:"v-slide-group",provide(){return{slideGroup:this}}});var T=s(8743),D=(0,h.A)(k,T.A).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...k.options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...k.options.methods.genData.call(this)})}}}),P=s(4414),B=s(6814),O=s(9991),E=s(9483),N=s(174),L=s(7391),z=(0,h.A)(L.A,a.A).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return(0,d.OP)("v-hover is missing a default scopedSlot or bound value",this),null;let t;return this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):((0,d.OP)("v-hover should only contain a single element",this),t)}}),R=s(6930),V=s(5420),F=s(7296),M=s(8924),W=s(1554),H=s(2756),q=s(7150),j=s(1034),X=s(7515),G=s(8418);const Y=(0,h.A)(G.A,(0,X.P)("tabsBar"),o.A);var Q=Y.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0},tabValue:{required:!1}},data:()=>({proxyClass:"v-tab--active"}),computed:{classes(){return{"v-tab":!0,...G.A.options.computed.classes.call(this),"v-tab--disabled":this.disabled,...this.groupClasses}},value(){if(null!=this.tabValue)return this.tabValue;let t=this.to||this.href;if(null==t)return t;if(this.$router&&this.to===Object(this.to)){const e=this.$router.resolve(this.to,this.$route,this.append);t=e.href}return t.replace("#","")}},methods:{click(t){this.disabled?t.preventDefault():(this.href&&this.href.indexOf("#")>-1&&t.preventDefault(),t.detail&&this.$el.blur(),this.$emit("click",t),this.to||this.toggle())},toggle(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.attrs={...s.attrs,"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0},s.on={...s.on,keydown:t=>{t.keyCode===u.uP.enter&&this.click(t),this.$emit("keydown",t)}},t(e,s,(0,u.$c)(this))}}),U=s(72);const K=(0,h.A)(U.A,(0,X.P)("windowGroup","v-window-item","v-window"));var J=K.extend().extend().extend({name:"v-window-item",directives:{Touch:S.A},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return(0,u.$c)(this)},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,u.Dg)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,u.Dg)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}}),Z=J.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=J.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}}),tt=(s(4114),s(5367)),et=(0,h.A)(k,tt.A,o.A).extend({name:"v-tabs-bar",provide(){return{tabsBar:this}},computed:{classes(){return{...k.options.computed.classes.call(this),"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows,...this.themeClasses}}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider(){this.isBooted&&this.$emit("call:slider")},genContent(){const t=k.options.methods.genContent.call(this);return t.data=t.data||{},t.data.staticClass+=" v-tabs-bar__content",t},onRouteChange(t,e){if(this.mandatory)return;const s=this.items,i=t.path,r=e.path;let n=!1,a=!1;for(const o of s)if(o.to===r?a=!0:o.to===i&&(n=!0),n&&a)break;!n&&a&&(this.internalValue=void 0)}},render(t){const e=k.options.render.call(this,t);return e.data.attrs={role:"tablist"},e}}),st=C.C.extend({name:"v-window",directives:{Touch:S.A},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...C.C.options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,s=e?"-reverse":"";return`v-window-${t}${s}-transition`},hasActiveItems(){return Boolean(this.items.find((t=>!t.disabled)))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex(((t,e)=>this.internalValue===this.getValue(t,e)))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(t,e){this.isReverse=this.updateReverse(t,e)}},mounted(){window.requestAnimationFrame((()=>this.isBooted=!0))},methods:{genDefaultSlot(){return(0,u.$c)(this)},genContainer(){const t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon(t,e,s){var i,a,o;const l={click:t=>{t.stopPropagation(),this.changedByDelimiters=!0,s()}},c={"aria-label":this.$vuetify.lang.t(`$vuetify.carousel.${t}`)},h=null!==(o=null===(a=(i=this.$scopedSlots)[t])||void 0===a?void 0:a.call(i,{on:l,attrs:c}))&&void 0!==o?o:[this.$createElement(r.A,{props:{icon:!0},attrs:c,on:l},[this.$createElement(n.A,{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:`v-window__${t}`},h)},genControlIcons(){const t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){const s=this.genIcon("prev",e,this.prev);s&&t.push(s)}const s=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&s&&"string"===typeof s){const e=this.genIcon("next",s,this.next);e&&t.push(e)}return t},getNextIndex(t){const e=(t+1)%this.items.length,s=this.items[e];return s.disabled?this.getNextIndex(e):e},getPrevIndex(t){const e=(t+this.items.length-1)%this.items.length,s=this.items[e];return s.disabled?this.getPrevIndex(e):e},next(){if(!this.hasActiveItems||!this.hasNext)return;const t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse(t,e){const s=this.items.length,i=s-1;return s<=2?t<e:t===i&&0===e||(0!==t||e!==i)&&t<e}},render(t){const e={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const t=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:t=>{t.stopPropagation()},start:t=>{t.stopPropagation()}};e.directives.push({name:"touch",value:t})}return t("div",e,[this.genContainer()])}}),it=st.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes(){return{...st.options.computed.classes.call(this),"v-tabs-items":!0}},isDark(){return this.rootIsDark}},methods:{getValue(t,e){return t.id||C.C.options.methods.getValue.call(this,t,e)}}}),rt=(0,h.A)(T.A).extend({name:"v-tabs-slider",render(t){return t("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}}),nt=s(4632);const at=(0,h.A)(T.A,nt.A,o.A);var ot=at.extend().extend({name:"v-tabs",directives:{Resize:A.A},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes(){return{"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical,...this.themeClasses}},isReversed(){return this.$vuetify.rtl&&this.vertical},sliderStyles(){return{height:(0,u.Dg)(this.slider.height),left:this.isReversed?void 0:(0,u.Dg)(this.slider.left),right:this.isReversed?(0,u.Dg)(this.slider.right):void 0,top:this.vertical?(0,u.Dg)(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:(0,u.Dg)(this.slider.width)}},computedColor(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted(){if("undefined"!==typeof ResizeObserver){const t=new ResizeObserver((()=>{this.onResize()}));t.observe(this.$el),this.$on("hook:destroyed",(()=>{t.disconnect()}))}this.$nextTick((()=>{window.setTimeout(this.callSlider,30)}))},methods:{callSlider(){return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick((()=>{const t=this.$refs.items.selectedItems[0];if(!t||!t.$el)return this.slider.width=0,void(this.slider.left=0);const e=t.$el;this.slider={height:this.vertical?e.scrollHeight:Number(this.sliderSize),left:this.vertical?0:e.offsetLeft,right:this.vertical?0:e.offsetLeft+e.offsetWidth,top:e.offsetTop,width:this.vertical?Number(this.sliderSize):e.scrollWidth}})),!0):(this.slider.width=0,!1)},genBar(t,e){const s={style:{height:(0,u.Dg)(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:t=>{this.internalValue=t}},ref:"items"};return this.setTextColor(this.computedColor,s),this.setBackgroundColor(this.backgroundColor,s),this.$createElement(et,s,[this.genSlider(e),t])},genItems(t,e){return t||(e.length?this.$createElement(it,{props:{value:this.internalValue},on:{change:t=>{this.internalValue=t}}},e):null)},genSlider(t){return this.hideSlider?null:(t||(t=this.$createElement(rt,{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[t]))},onResize(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes(){let t=null,e=null;const s=[],i=[],r=(0,u.$c)(this)||[],n=r.length;for(let a=0;a<n;a++){const n=r[a];if(n.componentOptions)switch(n.componentOptions.Ctor.options.name){case"v-tabs-slider":e=n;break;case"v-tabs-items":t=n;break;case"v-tab-item":s.push(n);break;default:i.push(n)}else i.push(n)}return{tab:i,slider:e,items:t,item:s}}},render(t){const{tab:e,slider:s,items:i,item:r}=this.parseNodes();return t("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(e,s),this.genItems(i,r)])}}),lt=s(7112),ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container"},[e(H.A,{staticClass:"fill-height",attrs:{"no-gutters":""}},[e(P.A,{attrs:{cols:"7"}},[e(g.A,{staticClass:"ma-2 fill-height d-flex flex-column"},[e(y.ri,{staticClass:"py-2"},[e(lt.A,{attrs:{label:"Search products...","prepend-inner-icon":"mdi-magnify",clearable:"",dense:"",outlined:"","hide-details":""},on:{"click:clear":t.clearSearch},model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1),e(D,{staticClass:"px-4",attrs:{"active-class":"primary--text",mandatory:""},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}},t._l(t.categories,(function(s){return e(b.A,{key:s,attrs:{filter:"",outlined:""}},[t._v(" "+t._s(s)+" ")])})),1),e(y.OQ,{staticClass:"flex-grow-1 overflow-y-auto",staticStyle:{"max-height":"calc(75vh - 10px)"}},[e(H.A,t._l(t.filteredProducts,(function(s){return e(P.A,{key:s.id,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e(z,{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e(g.A,{staticClass:"product-card",class:{"on-hover":i},attrs:{disabled:!s.inStock,elevation:i?8:2},on:{click:function(e){return t.addToCart(s)}}},[e(V.A,{staticClass:"mx-auto",class:{greyscale:!s.inStock},attrs:{src:s.image,contain:"",height:"200px"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e(H.A,{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[e(W.A,{attrs:{indeterminate:"",color:"grey lighten-2"}})],1)]},proxy:!0}],null,!0)}),e(y.OQ,{staticClass:"pb-0"},[e("div",{staticClass:"text-subtitle-1 font-weight-medium text-truncate"},[t._v(" "+t._s(s.name)+" ")]),e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"text-h6 primary--text"},[t._v("₱"+t._s(s.price.toFixed(2)))]),e("span",{staticClass:"caption grey--text"},[t._v("Stock: "+t._s(s.inStock))])])]),s.inStock?t._e():e(b.A,{staticClass:"ma-2",attrs:{color:"red","text-color":"white",small:""}},[t._v(" Out of Stock ")])],1)]}}],null,!0)})],1)})),1)],1)],1)],1),e(P.A,{attrs:{cols:"5"}},[e(g.A,{staticClass:"ma-2 fill-height d-flex flex-column"},[e(y.ri,{staticClass:"py-2"},[e(p.A,{attrs:{items:t.debtors,"item-text":"name","item-value":"_id",label:"Search Debtor",dense:"",outlined:"","hide-details":"",clearable:"",loading:t.debtorSearchLoading,filter:t.customFilter,"return-object":""},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[e(R.A,{attrs:{small:""}},[t._v("mdi-account-search")])]},proxy:!0},{key:"item",fn:function({item:s}){return[e(M.pr,[e(M.UZ,[t._v(t._s(s.name))]),e(M.w,{staticClass:"d-flex align-center"},[e("span",{staticClass:"caption"},[t._v("Credit Limit: ₱"+t._s(s.creditLimit))])])],1)]}},{key:"no-data",fn:function(){return[e(F.A,[e(M.pr,[e(M.UZ,[t._v("No debtors found")])],1)],1)]},proxy:!0}]),model:{value:t.selectedDebtor,callback:function(e){t.selectedDebtor=e},expression:"selectedDebtor"}})],1),t.selectedDebtor?e(y.OQ,{staticClass:"py-2 grey lighten-4"},[e("div",{staticClass:"d-flex justify-space-between align-center"},[e("div",[e("div",{staticClass:"subtitle-1 font-weight-medium"},[t._v(" "+t._s(t.selectedDebtor.name)+" ")]),e("div",{staticClass:"caption"},[t._v(" Credit Limit: ₱"+t._s(t.selectedDebtor.creditLimit)+" ")])]),e("div",[e(f.A,{attrs:{text:"",small:"",color:"red"},on:{click:function(e){t.selectedDebtor=null}}},[t._v(" Clear ")])],1)])]):t._e(),e(y.ri,{staticClass:"py-2 d-flex justify-space-between"},[e("span",[t._v("Orders")]),t.cart.length?e(f.A,{attrs:{text:"",small:"",color:"red"},on:{click:t.clearCart}},[t._v(" Clear Cart ")]):t._e()],1),t.cart.length>0?e("div",{staticClass:"flex-grow-1 overflow-y-auto px-2"},[e(B.A,{staticClass:"elevation-1",attrs:{headers:t.cartHeaders,items:t.cart,"hide-default-footer":"",dense:""},scopedSlots:t._u([{key:"item",fn:function({item:s}){return[e("tr",[e("td",[e("div",{staticClass:"d-flex align-center"},[e(v.A,{staticClass:"mr-2",attrs:{size:"32"}},[e(V.A,{attrs:{src:s.image}})],1),e("div",{staticClass:"text-truncate"},[t._v(t._s(s.name))])],1)]),e("td",[e(H.A,{attrs:{align:"center",justify:"center","no-gutters":""}},[e(f.A,{attrs:{icon:"",small:"",disabled:s.quantity<=1},on:{click:function(e){return t.decrementQuantity(s)}}},[e(R.A,{attrs:{small:""}},[t._v("mdi-minus")])],1),e("span",{staticClass:"mx-2"},[t._v(t._s(s.quantity))]),e(f.A,{attrs:{icon:"",small:"",disabled:s.quantity>=s.availableStocks},on:{click:function(e){return t.incrementQuantity(s)}}},[e(R.A,{attrs:{small:""}},[t._v("mdi-plus")])],1)],1)],1),e("td",{staticClass:"text-right"},[t._v("₱"+t._s(s.price))]),e("td",{staticClass:"text-right"},[t._v(" ₱"+t._s((s.price*s.quantity).toFixed(2))+" ")]),e("td",[e(f.A,{attrs:{icon:"",small:"",color:"red"},on:{click:function(e){return t.removeFromCart(s)}}},[e(R.A,{attrs:{small:""}},[t._v("mdi-delete")])],1)],1)])]}}],null,!1,587586430)})],1):e(y.OQ,{staticClass:"cart-empty"},[e(R.A,{attrs:{size:"64",color:"grey lighten-1"}},[t._v("mdi-cart-outline")]),e("p",{staticClass:"mt-2 grey--text text-center"},[t._v(" Your cart is empty"),e("br"),t._v(" Add items to get started ")])],1),t.cart.length>0?e(y.OQ,{staticClass:"pt-0"},[e(E.A,{staticClass:"my-2"}),e("div",{staticClass:"d-flex justify-space-between mb-1"},[e("span",{staticClass:"text-subtitle-1"},[t._v("Subtotal:")]),e("span",{staticClass:"text-subtitle-1"},[t._v("₱"+t._s(t.subTotal.toFixed(2)))])]),e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"text-h6"},[t._v("Total:")]),e("span",{staticClass:"text-h6 primary--text"},[t._v("₱"+t._s(t.total))])])],1):t._e(),e(y.SL,{staticClass:"pa-4 pt-0"},[e(f.A,{attrs:{dark:"",color:"primary",block:"","x-large":"",disabled:0===t.cart.length},on:{click:t.openPaymentDialog}},[e(R.A,{attrs:{left:""}},[t._v("mdi-cash-register")]),t._v(" Proceed to Payment ")],1)],1)],1)],1)],1),e(O.A,{attrs:{"max-width":"400"},model:{value:t.newCustomerDialog,callback:function(e){t.newCustomerDialog=e},expression:"newCustomerDialog"}},[e(g.A,[e(y.ri,{staticClass:"primary white--text"},[t._v(" Add New Customer ")]),e(y.OQ,{staticClass:"pt-4"},[e(N.A,{ref:"customerForm",model:{value:t.isCustomerFormValid,callback:function(e){t.isCustomerFormValid=e},expression:"isCustomerFormValid"}},[e(lt.A,{attrs:{label:"Customer Name",outlined:"",dense:"",rules:[t=>!!t||"Name is required"]},model:{value:t.newCustomer.name,callback:function(e){t.$set(t.newCustomer,"name",e)},expression:"newCustomer.name"}}),e(lt.A,{attrs:{label:"Contact Number",outlined:"",dense:"",rules:[t=>!!t||"Contact number is required"]},model:{value:t.newCustomer.contact,callback:function(e){t.$set(t.newCustomer,"contact",e)},expression:"newCustomer.contact"}}),e(lt.A,{attrs:{label:"Address",outlined:"",dense:"",rules:[t=>!!t||"Address is required"]},model:{value:t.newCustomer.address,callback:function(e){t.$set(t.newCustomer,"address",e)},expression:"newCustomer.address"}})],1)],1),e(y.SL,[e(j.A),e(f.A,{attrs:{text:""},on:{click:function(e){t.newCustomerDialog=!1}}},[t._v("Cancel")]),e(f.A,{attrs:{color:"primary",disabled:!t.isCustomerFormValid},on:{click:t.addNewCustomer}},[t._v(" Add Customer ")])],1)],1)],1),e(O.A,{attrs:{"max-width":"500",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(g.A,[e(y.ri,{staticClass:"primary white--text"},[t._v(" Payment Details "),e(j.A),e(f.A,{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[e(R.A,[t._v("mdi-close")])],1)],1),e(y.OQ,{staticClass:"pt-4"},[e("div",{staticClass:"payment-summary mb-4"},[e("div",{staticClass:"d-flex justify-space-between align-center"},[e("span",{staticClass:"text-subtitle-1"},[t._v("Total Amount:")]),e("div",{staticClass:"success pa-2 rounded"},[e("span",{staticClass:"text-h6 white--text"},[t._v("₱"+t._s(t.total))])])])]),e(ot,{attrs:{grow:""},model:{value:t.paymentTab,callback:function(e){t.paymentTab=e},expression:"paymentTab"}},t._l(t.paymentTypes,(function(s){return e(Q,{key:s,attrs:{disabled:"Credit"===s&&!t.selectedDebtor}},[e(R.A,{attrs:{left:""}},[t._v(t._s(t.getPaymentIcon(s)))]),t._v(" "+t._s(s)+" ")],1)})),1),e(it,{staticClass:"mt-4",model:{value:t.paymentTab,callback:function(e){t.paymentTab=e},expression:"paymentTab"}},[e(Z,[e(lt.A,{staticClass:"mb-3",attrs:{label:"Customer Name",outlined:"",placeholder:"Walk-in"},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}),e(lt.A,{attrs:{label:"Amount Tendered",prefix:"₱",type:"number",outlined:"","error-messages":t.amountError},on:{input:t.validateAmount},model:{value:t.amountPaid,callback:function(e){t.amountPaid=t._n(e)},expression:"amountPaid"}})],1),e(Z,[e(lt.A,{staticClass:"mb-3",attrs:{label:"Customer Name",outlined:"",placeholder:"Walk-in"},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}),e(lt.A,{attrs:{label:"GCash Reference Number",outlined:"",rules:[t=>!!t||"Reference number is required"]},model:{value:t.referenceNo,callback:function(e){t.referenceNo=e},expression:"referenceNo"}}),e(lt.A,{attrs:{label:"Amount Paid",prefix:"₱",type:"number",outlined:""},on:{input:t.validateAmount},model:{value:t.amountPaid,callback:function(e){t.amountPaid=t._n(e)},expression:"amountPaid"}})],1),e(Z,[t.selectedDebtor?e(m,{staticClass:"mb-3",attrs:{type:t.debtorCreditAvailable?"success":"warning",dense:"",outlined:""}},[e("div",{staticClass:"d-flex justify-space-between"},[e("span",[t._v("Credit Limit:")]),e("span",[t._v("₱"+t._s(t.selectedDebtor.creditLimit.toFixed(2)))])])]):t._e(),t.selectedDebtor?t._e():e("div",{staticClass:"text-center pa-4"},[e(R.A,{attrs:{large:"",color:"warning"}},[t._v("mdi-alert")]),e("p",{staticClass:"mt-2"},[t._v(" Please select a debtor to proceed with credit payment ")])],1),t.selectedDebtor?e(lt.A,{attrs:{value:t.selectedDebtor.name,label:"Debtor Name",outlined:"",readonly:""}}):t._e(),t.selectedDebtor?e(lt.A,{attrs:{value:t.selectedDebtor.contact,label:"Contact",outlined:"",readonly:""}}):t._e()],1)],1),e(E.A,{staticClass:"my-4"}),e("div",{staticClass:"payment-summary"},[e("div",{staticClass:"d-flex justify-space-between mb-2"},[e("span",{staticClass:"text-subtitle-1"},[t._v("Amount Due:")]),e("span",{staticClass:"text-subtitle-1"},[t._v("₱"+t._s(t.total))])]),"Credit"!==t.paymentTypes[t.paymentTab]?e("div",{staticClass:"d-flex justify-space-between mb-2"},[e("span",{staticClass:"text-subtitle-1"},[t._v("Amount Tendered:")]),e("span",{staticClass:"text-subtitle-1"},[t._v("₱"+t._s(t.amountPaid.toFixed(2)))])]):t._e(),"Credit"!==t.paymentTypes[t.paymentTab]?e("div",{staticClass:"d-flex justify-space-between"},[e("span",{staticClass:"text-h6"},[t._v("Change:")]),e("span",{staticClass:"text-h6",class:{"success--text":t.change>0}},[t._v(" ₱"+t._s(t.change)+" ")])]):t._e()])],1),e(y.SL,{staticClass:"pa-4"},[e(f.A,{attrs:{text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")]),e(j.A),e(f.A,{attrs:{color:"primary",dark:t.isPaymentValid,disabled:!t.isPaymentValid,loading:t.processingPayment},on:{click:t.processPayment}},[t._v(" Complete Payment ")])],1)],1)],1),e(q.A,{attrs:{color:t.snackbar.color,timeout:t.snackbar.timeout},scopedSlots:t._u([{key:"action",fn:function({attrs:s}){return[e(f.A,t._b({attrs:{text:""},on:{click:function(e){t.snackbar.show=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.text)+" ")])],1)},ht=[],dt=s(5353),ut={name:"POS",data(){return{searchQuery:"",selectedCategory:0,categories:["All","Food","Beverages","Snacks","Others"],products:[],filteredProducts:[],cart:[],dialog:!1,paymentTab:0,paymentType:null,amountPaid:0,amountError:"",paymentTypes:["Cash","Gcash","Credit"],referenceNo:"",processingPayment:!1,selectedCustomer:null,customerSearchLoading:!1,newCustomerDialog:!1,isCustomerFormValid:!1,customer:"Walk-in",newCustomer:{name:"",contact:"",address:""},selectedDebtor:null,debtorSearchLoading:!1,debtors:[],customers:[{id:1,name:"John Doe",balance:420,contact:"09123456789",address:"123 Main St.",creditLimit:5e3},{id:2,name:"Jane Smith",balance:1500,contact:"09187654321",address:"456 Oak Ave.",creditLimit:1e4},{id:3,name:"Albert Johnson",balance:0,contact:"09199999999",address:"789 Pine St.",creditLimit:3e3}],cartHeaders:[{text:"Product",value:"name",width:"40%"},{text:"Qty",value:"quantity",align:"center",width:"20%"},{text:"Price",value:"price",align:"right",width:"15%"},{text:"Total",value:"total",align:"right",width:"15%"},{text:"Actions",value:"actions",align:"center",width:"10%"}],snackbar:{show:!1,text:"",color:"success",timeout:3e3}}},computed:{...(0,dt.aH)(["drawer"]),drawer:{get(){return!1},set(t){this.$store.commit("SET_DRAWER",t)}},subTotal(){return this.cart.reduce(((t,e)=>t+e.price*e.quantity),0)},total(){return this.subTotal.toFixed(2)},change(){return Math.max(0,this.amountPaid-this.subTotal).toFixed(2)},isPaymentValid(){switch(this.paymentTypes[this.paymentTab]){case"Cash":return this.amountPaid>=this.subTotal;case"Gcash":return this.amountPaid>=this.subTotal&&this.referenceNo.length>0;case"Credit":return this.selectedDebtor&&this.debtorCreditAvailable;default:return!1}},debtorCreditAvailable(){if(!this.selectedDebtor)return!1;const t=this.selectedDebtor.creditLimit;return t>=this.subTotal}},watch:{searchQuery:{handler:"filterProducts",immediate:!0},selectedCategory:{handler:"filterProducts",immediate:!0},paymentTab(t){this.paymentType=this.paymentTypes[t],this.resetPaymentForm()},dialog(t){t||this.resetPaymentForm()}},created(){this.drawer=!1,this.fetchInitialData(),this.fetchDebtors()},methods:{...(0,dt.PY)({setDrawer:"SET_DRAWER"}),...(0,dt.i0)({getProductItems:"product/getItems",addItem:"sale/addItem",getDebtorItems:"debtor/getDebtors"}),showNotification(t,e="success"){this.snackbar={show:!0,text:t,color:e,timeout:3e3}},getPaymentIcon(t){const e={Cash:"mdi-cash",Gcash:"mdi-cellphone",Credit:"mdi-credit-card"};return e[t]||"mdi-help"},async fetchInitialData(){try{await this.fetch(),this.showNotification("Products loaded successfully")}catch(t){this.showNotification("Error loading products","error")}},filterProducts(){let t=[...this.products];if(this.selectedCategory>0){const e=this.categories[this.selectedCategory];t=t.filter((t=>t.category===e))}if(this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter((t=>t.name.toLowerCase().includes(e)||t.upc?.toLowerCase().includes(e)))}this.filteredProducts=t},clearSearch(){this.searchQuery=""},addToCart(t){if(!t.inStock)return void this.showNotification("Product is out of stock","error");const e=this.cart.find((e=>e.product===t._id||e.variant===t._id));if(e)e.quantity<e.availableStocks?(e.quantity++,this.showNotification(`${t.name} quantity increased`)):this.showNotification("Maximum stock limit reached","warning");else{const e={name:t.name,availableStocks:t.stocks,product:t.productId,price:parseFloat(t.price),quantity:1,image:t.image,variant:"Variants"===t.type?t._id:null};this.cart.push(e),this.showNotification(`${t.name} added to cart`)}},incrementQuantity(t){t.quantity<t.availableStocks?t.quantity++:this.showNotification("Maximum stock limit reached","warning")},decrementQuantity(t){t.quantity>1&&t.quantity--},removeFromCart(t){const e=this.cart.indexOf(t);e>-1&&(this.cart.splice(e,1),this.showNotification(`${t.name} removed from cart`))},clearCart(){this.cart=[],this.selectedDebtor=null,this.showNotification("Cart cleared")},customFilter(t,e){const s=e.toLowerCase();return t.name.toLowerCase().includes(s)||t.contact?.includes(s)},async searchCustomers(t){this.customerSearchLoading=!0;try{await new Promise((t=>setTimeout(t,500)))}finally{this.customerSearchLoading=!1}},openNewCustomerDialog(){this.newCustomerDialog=!0,this.$nextTick((()=>{this.$refs.customerForm&&this.$refs.customerForm.reset()}))},async addNewCustomer(){if(this.isCustomerFormValid)try{const t={id:this.customers.length+1,name:this.newCustomer.name,contact:this.newCustomer.contact,address:this.newCustomer.address,balance:0,creditLimit:5e3};this.customers.push(t),this.selectedCustomer=t,this.newCustomerDialog=!1,this.newCustomer={name:"",contact:"",address:""},this.showNotification("Customer added successfully")}catch(t){this.showNotification("Error adding customer","error")}},viewCustomerDetails(){this.selectedCustomer&&this.$router.push(`/customers/${this.selectedCustomer.id}`)},openPaymentDialog(){0!==this.cart.length?"Credit"!==this.paymentTypes[this.paymentTab]||this.selectedDebtor?(this.dialog=!0,this.paymentTab=0,this.resetPaymentForm()):this.showNotification("Please select a debtor for credit payment","warning"):this.showNotification("Cart is empty","error")},validateAmount(t){t<0?this.amountError="Amount cannot be negative":t<this.subTotal?this.amountError="Amount is insufficient":this.amountError=""},resetPaymentForm(){this.amountPaid=0,this.amountError="",this.referenceNo="",this.customer="Walk-in",this.paymentType=this.paymentTypes[this.paymentTab]},async processPayment(){if(this.isPaymentValid&&!this.processingPayment){this.processingPayment=!0;try{const t={paymentType:this.paymentType,change:this.change,salesTotal:this.total,amountReceived:this.amountPaid,customer:this.selectedDebtor?.name,debtorId:this.selectedDebtor?._id,referenceNo:this.referenceNo,items:this.cart.map((t=>({...t,subTotal:t.price*t.quantity})))};"Credit"===this.paymentType&&this.selectedDebtor&&(t.debtor={id:this.selectedDebtor._id,name:this.selectedDebtor.name,creditLimit:this.selectedDebtor.creditLimit}),await this.addItem(t),this.showNotification("Payment processed successfully"),this.dialog=!1,this.clearCart()}catch(t){this.showNotification("Error processing payment","error")}finally{this.processingPayment=!1}}},async fetch(){const t=await this.getProductItems();this.products=t.result.map((t=>"Variants"===t.type&&t.variants?.length>0?t.variants.map((e=>({...t,productId:t._id,name:e.name,upc:e.upc,stocks:e.stocks,_id:e._id,price:e.price,inStock:e.stocks>0,category:t.category}))):{...t,productId:t._id,stocks:t.stocks,inStock:t.stocks>0,category:t.category})).flat(),this.filteredProducts=this.products},async fetchDebtors(){this.debtorSearchLoading=!0;try{const t=await this.getDebtorItems();this.debtors=t}catch(t){this.showNotification("Error loading debtors","error")}finally{this.debtorSearchLoading=!1}}}},mt=ut,pt=s(1656),vt=(0,pt.A)(mt,ct,ht,!1,null,"401a57c6",null),ft=vt.exports},7678:function(t,e,s){s(29);var i=s(4312),r=s(7112),n=s(8041),a=s(4152);const o={...i.v,offsetY:!0,offsetOverflow:!0,transition:!1};e.A=i.A.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,s)=>s.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:i.A.options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...i.A.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map((t=>this.getValue(t)))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some((t=>!this.hasItem(t))):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((t=>{const e=(0,a.TD)(t,this.itemText),s=null!=e?String(e):"";return this.filter(t,String(this.internalSearch),s)}))},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=i.A.options.computed.$_menuProps.call(this);return t.contentClass=`v-autocomplete__content ${t.contentClass||""}`.trim(),{...o,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find((t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue))))},listData(){const t=i.A.options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=null)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(t,e){if(t!==e){if(!this.autoSelectFirst){const s=e[this.$refs.menu.listIndex];s?this.setMenuIndex(t.findIndex((t=>t===s))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&t.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))}))}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===a.uP.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===a.uP.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==a.uP.backspace&&t!==a.uP.delete||this.deleteCurrentItem())},deleteCurrentItem(){const t=this.selectedIndex,e=this.selectedItems[t];if(!this.isInteractive||this.getDisabled(e))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const i=this.selectedItems.length,r=t!==i-1?t:t-1,n=this.selectedItems[r];n?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r},clearableCallback(){this.internalSearch=null,i.A.options.methods.clearableCallback.call(this)},genInput(){const t=r.A.options.methods.genInput.call(this);return t.data=(0,n.Ay)(t.data,{attrs:{"aria-activedescendant":(0,a.no)(this.$refs.menu,"activeTile.id"),autocomplete:(0,a.no)(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=i.A.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?i.A.options.methods.genSelections.call(this):[]},onClick(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,s=e.value;e.value&&this.activateMenu(),this.multiple||""!==s||this.deleteCurrentItem(),this.internalSearch=s,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[a.uP.home,a.uP.end].includes(e)||i.A.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){i.A.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){i.A.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){i.A.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick((()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))}))},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){var e,s;if(-1===this.selectedIndex)return;const i=this.selectedItems[this.selectedIndex],r=this.getText(i);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",r),null===(s=t.clipboardData)||void 0===s||s.setData("text/vnd.vuetify.autocomplete.item+plain",r),t.preventDefault()}}})},174:function(t,e,s){s(4114);var i=s(5803),r=s(7717),n=s(7540),a=s(4152);e.A=(0,i.A)(r.A,(0,n.G)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(i=>{i&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))})):s.valid=e(t),s},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const s=this.watchers.find((t=>t._uid===e._uid));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},(0,a.$c)(this))}})},5420:function(t,e,s){s.d(e,{A:function(){return m}});s(4114);var i=s(1677),r=s(7282),n=s(5803),a=s(4152),o=(0,n.A)(r.A).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},(0,a.$c)(this))}},render(t){return t("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),l=o,c=s(3381),h=s(8041),d=s(6988);const u="undefined"!==typeof window&&"IntersectionObserver"in window;var m=(0,n.A)(l,c.A).extend({name:"v-img",directives:{intersect:i.A},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const s=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[s]):s}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,s){if(!u||s||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch((t=>{(0,d.OP)(`Failed to decode image, trying to render anyway\n\nsrc: ${this.normalisedSrc.src}`+(t.message?`\nOriginal error: ${t.message}`:""),this)})).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const s=()=>{const{naturalHeight:i,naturalWidth:r}=t;i||r?(this.naturalWidth=r,this.calculatedAspectRatio=r/i):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(s,e)};s()},genContent(){const t=l.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:`${this.naturalWidth}px`}}),t},__genPlaceholder(){const t=(0,a.$c)(this,"placeholder");if(t){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},t)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(t){const e=l.options.render.call(this,t),s=(0,h.Ay)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:u?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,s,e.children)}})},7150:function(t,e,s){s.d(e,{A:function(){return d}});var i=s(8184),r=s(8743),n=s(3381),a=s(428),o=s(6763),l=s(5803),c=s(4152),h=s(6988),d=(0,l.A)(i.A,r.A,a.A,(0,o.P)(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:n.A.options.computed.isDark.call(this)},styles(){if(this.absolute||!this.app)return{};const{bar:t,bottom:e,footer:s,insetFooter:i,left:r,right:n,top:a}=this.$vuetify.application;return{paddingBottom:(0,c.Dg)(e+s+i),paddingLeft:(0,c.Dg)(r),paddingRight:(0,c.Dg)(n),paddingTop:(0,c.Dg)(t+a)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&(0,h.rq)("auto-height",this),0==this.timeout&&(0,h.CI)('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[(0,c.$c)(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[(0,c.$c)(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:i.A.options.computed.classes.call(this),style:i.A.options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{pointerenter:()=>window.clearTimeout(this.activeTimeout),pointerleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout((()=>{this.isActive=!1}),t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},2699:function(t,e,s){var i=s(4152);const r=t=>{const{touchstartX:e,touchendX:s,touchstartY:i,touchendY:r}=t,n=.5,a=16;t.offsetX=s-e,t.offsetY=r-i,Math.abs(t.offsetY)<n*Math.abs(t.offsetX)&&(t.left&&s<e-a&&t.left(t),t.right&&s>e+a&&t.right(t)),Math.abs(t.offsetX)<n*Math.abs(t.offsetY)&&(t.up&&r<i-a&&t.up(t),t.down&&r>i+a&&t.down(t))};function n(t,e){const s=t.changedTouches[0];e.touchstartX=s.clientX,e.touchstartY=s.clientY,e.start&&e.start(Object.assign(t,e))}function a(t,e){const s=t.changedTouches[0];e.touchendX=s.clientX,e.touchendY=s.clientY,e.end&&e.end(Object.assign(t,e)),r(e)}function o(t,e){const s=t.changedTouches[0];e.touchmoveX=s.clientX,e.touchmoveY=s.clientY,e.move&&e.move(Object.assign(t,e))}function l(t){const e={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:t.left,right:t.right,up:t.up,down:t.down,start:t.start,move:t.move,end:t.end};return{touchstart:t=>n(t,e),touchend:t=>a(t,e),touchmove:t=>o(t,e)}}function c(t,e,s){const r=e.value,n=r.parent?t.parentElement:t,a=r.options||{passive:!0};if(!n)return;const o=l(e.value);n._touchHandlers=Object(n._touchHandlers),n._touchHandlers[s.context._uid]=o,(0,i.HP)(o).forEach((t=>{n.addEventListener(t,o[t],a)}))}function h(t,e,s){const r=e.value.parent?t.parentElement:t;if(!r||!r._touchHandlers)return;const n=r._touchHandlers[s.context._uid];(0,i.HP)(n).forEach((t=>{r.removeEventListener(t,n[t])})),delete r._touchHandlers[s.context._uid]}const d={inserted:c,unbind:h};e.A=d},5367:function(t,e,s){var i=s(5471);e.A=i.Ay.extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}})},29:function(){}}]);
//# sourceMappingURL=808.796072c8.js.map